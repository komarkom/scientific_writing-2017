## Описание решения 

Приложение разработано с использованием технологии Spring Boot. Интерфейс пользователя реализован с помощью фреймворка Angular 5. 

Для работы приложения необходимо загрузить данные. Загрузка данных в программу происходит автоматически после авторизации пользователя с помощью профиля ВКонтакте.
Авторизация реализована с помощью  средств Spring Security и протокола OAuth. Используя VK API, приложение получает информацию об авторизованном пользователе и его друзьях,
а также о сообществах, в которых они состоят. Стоит отметить, что также было разработано API для импорта данных вручную.
После загрузки данные сохраняются в базу данных Neo4j. 

рис. 1 Графическое представление NoSQL модели данных
![Image of NoSQL data model](https://github.com/moevm/scientific_writing-2017/blob/SamokhvalovaOS/4381/SamokhvalovaOS/img/NoSQLmodel.PNG?raw=true)


Вершины графа бывают двух типов: Person и Group. Корневая вершина имеет тип Person и хранит идентификатор пользователя, остальные вершины типа Person хранят идентификаторы его друзей, вершины – листья имеют тип Group и хранят идентификатор сообщества. 
Вершины имеют следующие свойства:
 * id(int);
 * name(String);
 * vkId(int);
 * avatar(String).
Ребра между корнем и Person – вершинами создают связи FRIEND (связь пользователя с другом).
Ребра между Person – вершинами и Group – вершинами создают связи TAKES_PART_IN (связь человека с сообщества).
Каждый режим построения алгоритмов реализуется посредством одного запроса к базе данных. Код запросов приведен в приложении.

Рекомендательная система работает в двух режимах: 
1. Первый режим забирает из базы данных все Group – вершины, которые не имеют связей с корневой вершиной, и ранжирует их в порядке убывания количества связей
типа TAKE_PART_IN. Иными словами, рассматриваются сообщества, в которых состоят друзья пользователя, но не состоит сам пользователь, составляется рейтинг по количеству вхождений в сообщество друзей.
2. Второй режим сначала анализирует назначает каждой некорневой Person - вершине вес: чем больше количество Group - вершин, с которыми и корневая вершина,
и рассматриваемая Person - вершина имеют связи типа TAKE_PART_IN, тем больше вес. После назначения весов повторяются действия, описанные в пункте 1,
но ранжирование происходит в порядке убывания суммы всех весов Person - вершин, которые имеют с рассматриваемой Group - вершиной связь типа TAKE_PART_IN.
Проще говоря, рассматриваются сообщества, в которых состоят друзья пользователя, но не состоит сам пользователь, составляется рейтинг по количеству вхождений в сообщество друзей, но с учетом информации о том, сколько общих сообществ у пользователя с другом. Чем больше общих сообществ у пользователя и друга, тем больший вес в рейтинге имеют сообщества, в которых состоит этот друг.

После завершения поиска рекомендаций полученная информация выводится на интерфейс пользователя в удобном для восприятия виде.

рис. 2 Интерфейс пользователя
![Image of UI](https://github.com/moevm/scientific_writing-2017/blob/SamokhvalovaOS/4381/SamokhvalovaOS/img/ui.png?raw=true)


Главным минусом данного решения является время, требуемое на загрузку данных в базу: при больших объемах данных приложение не 
сможет отработать за приемлемое для пользователя время, несмотря на то, что сам алгоритм построения рекомендаций занимает всего несколько секунд.
 Для пользователя с небольшим количеством друзей время работы программы вцелом занимает от полутора до трех минут. Под небольшим количеством подразумеваем 
 до 200 человек. 
  