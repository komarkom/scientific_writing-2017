# Автоматизация процесса проверки текста на соответствие научному стилю
## Аннотация

В данной статье приведены исследование возможности автоматизации процесса проверки научных статей на соответствие научному стилю, в результате которого было показано, что часть критериев проверки может быть автоматизирована. Было предложено решение по автоматизации процесса проверки научных статей в виде исполняемого сценария, проверяющего текст по нескольким критериям. Было проведено исследование решения на статьях, написанных студентами СПбГЭТУ, в результате которого выявлены тенденции научных статей к повышенному содержанию стоп-слов и пониженному уровню естественности, что требует дальнейшего подтверждения на крупных выборках научных статей.

## Введение

Соответствие статьи научному стилю является одним из основных критериев принятия статьи к публикации. В текущем виде, процесс проверки представляет собой отправку статьи на обзор третьим лицам, ожидание ответа, исправление недочетов и отправка на повторную проверку - это очень долго. В связи с этим, автоматизация данного процесса является актуальной задачей, позволяющей значительно ускорить процесс выявления ошибок для исправления, и в следствие этого ускорить сам процесс публикации статьи.
В соответствие с этим возникает задача исследования возможности автоматизации процесса проверки научных статей на соответствие научному стилю. Также возникает необходимость предложить решение, позволяющее проверить научную статью по нескольким критериям, основываясь на проведенном исследовании.

## Обзор предметной области

Научный стиль - наиболее строгий стиль речи, используемый для написания научных статей. Характеризуется использованием научной терминологии, исключая жаргонизмы. Научный стиль не допускает личного изложения [1]. Проверяя текст на соответствие научному стилю есть смысл реализовать и базовую проверку на качество текста. К такого рода анализу можно отнести SEO-анализ.

SEO (search engine optimization) анализ [2-3] популярен и актуален в связи с необходимостью продвижения своих ресурсов, товаров и услуг в интернете. SEO-анализ текста дает возможность понять, не переспамлен ли текст, насколько велика его тошнота, или не преобладает ли в нем вода, какие слова являются подавляющими и т.д. Основные термины SEO-анализа:

* Тошнота - это показатель повторений в текстовом документе ключевых слов и фраз. Синонимом тошноты является термин плотность [3];

* Стоп-слова - это слова в тексте, которые не несут смысловой нагрузки. Иначе их называют также шумовые слова [3];

* Вода - процентное соотношение стоп-слов и общего количества слов в тексте [3].

Рассмотрим возможность автоматизации критериев проверки текста. Уровень "воды" в тексте, его "тошнотность" и подсчет других числовых показателей, очевидно, можно автоматизировать. Но также важными показателями научной статьи являются её экспертность и полезность. На данный момент это может проверить только специалист в данной области, но разработки подобных инструментов ведутся [4].

Эти критерии можно применить и при проверке научных статей, но существуют веб-сервисы, проеряющие текст по этим критериям - сервисы, позволяющие провести SEO-анализ текста.

### 1y.ru

Анализатор качества контента [5]. Анализ проводится на базе закона Ципфа, то есть качество текста в данном случае определяется на основании соответствия частоты употребления слов в естественной речи и тексте. Результат выдается в двух окнах: в одном — график, в другом — частота использования отдельных слов и рекомендации по корректировке.

### text.ru

Сервис проверки текстов по многим параметрам, включая уникальность, проверку орфографии, выделение ключевых слов [6].

### contentmonster.ru

Сервис, осуществляющий поиск стоп-слов и подсчет их процентного соотношения к общей длине текста [7]. Определяет стоп-слова как всё то, что не несет самостоятельной смысловой нагрузки, но без чего не бывает связных текстов: предлоги, частицы, междометия, причастия, союзы, а также некоторые наречия, существительные и глаголы. Слишком большое количество таких слов затрудняет восприятие текста и увеличивает его водность.

## Критерии сравнения аналогов

Сравнение аналогов будет проводиться по следующим критериям:

* Многокритериальная проверка - как много критериев проверки использует сервис;

* Ограничение длины текста - отсутствие ограничения длины текста, поступающего на проверку;

* Проверка научного стиля - проверка текста на соответствие научному стилю.

В табл.1 представлено сравнение аналогов.

Таблица 1 - Сравнение аналогов
Аналог\Критерий|Многокритериальная проверка|Ограничение длины текста|Проверка научного стиля
-|-|-|-
1y.ru|-|-|-
text.ru|+|+|-
contentmonster.ru|+|-|-

Результаты сравнения показывают, что часть существующих сервисов предлагает многокритериальную проверку текста, при этом не ограничивая его по длине. Но все аналоги осуществляют SEO-проверку, ни один из них не реализует проверку статьи на соответствие научному стилю.

## Выбор метода решения

Результаты сравнения аналогов показывают, что существует множество сервисов для SEO-проверки текста, но нет иструментов для проверки текста или статьи на соответствие научному стилю.

В связи с этим задачей является реализация решения, позволяющего автоматизировать проверку научных статей на соответствие научному стилю по нескольким критериям.

Метод решения - разработка исполняемого сценария. Данный метод выбран в связи с:

- Простотой разработки сценария;

- Легкостью поддержки решения;

- Легкостью запуска.

Реализуемые критерии проверки статьи:

- Анализ текста соответствию закону Ципфа[8-9] с рассчетом отклонения от идеального распределения;

- Проверка водности текста.

Закон Ципфа - эмпирическая закономерность распределения частоты слов естественного языка: если все слова языка или достаточно длинного текста упорядочить по убыванию частоты их использования, то частота n-го слова в таком списке окажется приблизительно обратно пропорциональной его порядковому номеру n [8-9]. Соответствие распределения слов в тексте закону Ципфа говорит об уровне его естественности.

Данные критерии проверки были выбраны для реализации в первую очередь в связи с их наглядностью и простотой исправления замечаний автором проверяемой статьи. Решение является расширяемым и позволит в дальнейшем увеличить количество критериев проверки текста.

В связи с наличием в открытом доступе репозитория [10], в котором студенты СПбГЭТУ кафедры МОЭВМ пишут статьи в файлах формата .md, и необходимостью тестирования решения логично указывать исполняемому сценарию путь к директории в .md файлами, для получения из них текста и дальнейшего анализа. Результаты анализа должны выводиться в текстовом виде, и в виде графика частоты встречаемости слов в сравнении с идеальной кривой по Ципфу.
В итоге, необходимо разработать исполняемый сценарий, получающий на вход путь к директории, в которой находятся файлы, содержащие текст, и выводящий результат проверки.

## Описание метода решения

Исполняемый сценарий разработан на языке Python. Python выбран в связи с легкостью написания исполняемых сценариев на языке, а также наличием большого количества модулей для языка для разнообразных задач.

### Входные данные

Аргументом командной строки при запуске исполняемого сценария указывается путь к директории, в которой находятся файлы, содержащие текст для проверки. Сценарий будет учитывать все файлы с расширением .md находящиеся в папке.

### Сценарий использования

Предполагается единственный сценарий использования разработанного решения, состоящий из следующих этапов:

1. Запуск исполняемого сценария с указанием пути к директории с файлами, содержащими текст для проверки

2. Получение результата проверки.

В качестве выходных данных пользователь получает числовой показатель водности текста а также график соответствия текста закону Ципфа и числовое значение отклонения от него графика частоты встречаемости слов в тексте. В дополнение к этому пользователю предоставляются рекомендации по интерпретации полученных результатов проверки. Пример графика представлен на рис. 1.
![equation](https://pp.userapi.com/c840629/v840629322/357be/2hv7EDlP9GQ.jpg)
Рисунок 1 - Пример графика


### Алгоритм работы и используемые технологии

Поставленная задача требовала решения следующих подзадач:

1. Парсинг .md файлов;

2. Парсинг текста;

3. Анализ текста как набора слов;

4. Математические рассчеты и построение графиков.

При запуске исполняемого сценария находятся все .md файлы в директории, которые поступают на обработку, осуществляемую с помощью модуля mistune [11], переводящего .md файл в html документ. Это удобно, в связи с развитостью html-парсеров по причине огромной популярности и распространенности формата. Так же идея перевода файла в промежуточный формат html позволит в дальнейшем добавить поддержку анализа текстов в другом формате. Парсинг html документа осуществляется с помощью модуля bs4 [12].

Из html документа выделяется весь текст, который затем с помощью регулярного выражения разбивается на слова, получая список слов текста. Работа с регулярными выражениями осуществляется с помощью модуля re. Полученный список слов текста необходимо привести в нормальную языковую форму для дальнешей обработки, что возможно благодаря модулю pymorphy2 [13] - морфологического анализатора для русского языка.

На данном этапе для определения "водности" текста неободимо подсчитать количество стоп-слов в нем, и исключить их для дальнейшей обработки. Список стоп-слов русского языка содержится в модуле nltk [14].

Вычислительная работа с данными для их отображения осуществляется с помощью модуля scipy [15]. Графики строятся средствами модуля matplotlib [16].

## Исследование решения

Было проведено исследование работы исполняемого сценария на статьях, написанных студентами СПбГЭТУ "ЛЭТИ" в рамках факультатива по подготовке научных статей, а также для дальнейшего сопоставления результатов, в качестве примера опубликованной, а соответственно и прошедшей проверку, статьи, была взята работа Заславского М. М., Блееса Э. И., Баландина С. И. - "Метод обработки в реальном времени открытых данных, содержащих геоконтекстную разметку"[17]. 

### Определение рекомендаций по интерпретации результатов проверки

Необходимо определить рекомендации по интерпретации полученных результатов проверки.
Критерии допустимых уровней водности текста определены SEO-специалистами [6]. С поправкой на научность текста, что требует связанности, были приняты следующие уровни допустимости:

* до 20% - естественное содержание «воды» в тексте;

* от 20% до 30% - превышенное содержание «воды» в тексте;

* от 30% - высокое содержание «воды» в тексте.

Определение естественности текста осуществляется на основе отклонения графика частоты встречаемости слов от идеального графика по Ципфу.
Закономерность Ципфа: ![equation](https://wikimedia.org/api/rest_v1/media/math/render/svg/748f1048c708b58d3c38fc6c0ede5ff8103f5c9e), где ![equation](https://wikimedia.org/api/rest_v1/media/math/render/svg/5949c8b1de44005a1af3a11188361f2a830842d1) - частота встречаемости n-го по рангу слова; ![equation](https://wikimedia.org/api/rest_v1/media/math/render/svg/398f438d75434e6fbf48dc232c1ad7228a738568) - количество повторений самого популярного слова в тексте.
Показатель отклонения ![equation](https://latex.codecogs.com/gif.latex?%5Csigma) вычисляется на основе среднеквадратичного отклонения точек дискретной функции ![equation](https://latex.codecogs.com/gif.latex?f%28x%29) - практических показателей текста от точек дискретной функции ![equation](https://latex.codecogs.com/gif.latex?g%28x%29) - идеальной функции по Ципфу.
Показатель отклонения: ![equation](https://latex.codecogs.com/gif.latex?%5Cdpi%7B120%7D%20%5Clarge%20%5Csigma%20%3D%20%5Csqrt%7B%5Cfrac1N%5Csum_%7Bi%3D1%7D%5EN%28g%28x_i%29-f%28x_i%29%29%5E2%7D)

Допустимые уровни значений показателя отклонения были найдены экспериментально - используя функцию обратной линейной зависимости в качестве плохого примера, и функции, приближенной к идеальному распределению по Ципфу, как хорошего примера частотного распределения слов в тексте.
Допустимые уровни значений показателя отклонения от закона Ципфа:

* >= 12 - низкая естественность;

* 7-12 - средний уровень естественности;

* 2-7 - хороший уровень естественности;

* < 2 - идеальный текст.

### Результаты исследования

В качестве выборки статей использовались статьи студентов СПбГЭТУ "ЛЭТИ", написанные в рамках факультатива по подготовке научных статей [10]. Выборка состояла из 17 статей.
Наблюдаемый показатель отклонения от идеального распределение по закону Ципфа находился в промежутке от 2.3869 до 8.7569. Среднее значение показателя отклонения составило 6.5566.
Результаты показали что 7 из 17 статей имеют средний уровень естественности, а остальные 10 хороший уровень.
Наблюдаемый показатель "водности" текста находился в промежутке от 14.6766 до 24.3655. Среднее значение показателя "водности" составило 20.0499.
Результаты показали что 8 из 17 статей имеют естественный уровень "воды" в тексте, а остальные 9 повышенный уровень. Пример графика частоты встречаемости слов в тексте на примере статьи студента представлен на рис. 2.

![equation](https://pp.userapi.com/c840629/v840629322/357d0/t-dmSOV_Yd4.jpg)
Рисунок 2 - График частоты встречаемости слов в тексте статьи студента

Результаты проверки примера опубликованной статьи [6]: показатель отклонения 7.9469, уровень "воды" 20.9397, то есть средний уровень естественности и повышенный уровень "водности" текста. График частоты встречаемости слов в тексте опубликованной статьи представлен на рис. 3.

![equation](https://pp.userapi.com/c840629/v840629322/357e2/d4rwt_H0uNk.jpg)
Рисунок 3 - График частоты встречаемости слов в тексте опубликованной статьи

Тенденцию к понижению уровня естественности в научно-технических статьях можно объяснить частым упоминанием ключевых для понимания текста связок слов. Повышенный уровень водности объясняется необходимостью в связи частей статьи в единое целое, для лучшего понимания читателя.

## Заключение

В результате работы было проведено исследование возможности автоматизации процесса проверки научных статей на соответствие "научному стилю". Было предложено и реализовано решение в виде исполняемого сценария, позволяющее проверить научную статью на соответствие закону Ципфа, а так же выполняющее рассчет процентного соотношения стоп-слов к общему количеству слов в тексте. В качестве выходных данных пользователь получает числовой показатель "водности" текста а также график соответствия текста закону Ципфа. В дополнение к этому пользователю предоставляются рекомендации по интерпретации полученных результатов проверки. Было проведено исследование решения на статьях, написанных студентами СПбГЭТУ.

В дальнейшем планируется увеличить количество критериев, в том числе реализовать проверку частоты употребления в тексте ключевых слов.

## Список литературы

1. Демидова А. К. Пособие по русскому языку: научный стиль, оформление научной работы. – Рус. яз., 1991.
2. Davis H. Search engine optimization. – " O'Reilly Media, Inc.", 2006.
3. Словарь терминов семантического анализа. // URL: seopult.ru/library
4. Dong X. L. et al. Knowledge-based trust: Estimating the trustworthiness of web sources //Proceedings of the VLDB Endowment. – 2015. – Т. 8. – №. 9. – С. 938-949.
5. Сервис оценки качества текста. // URL: 1y.ru
6. Сервис оценки качества текста. // URL: text.ru
7. Сервис оценки качества текста. // URL: contentmonster.ru
8. Newman M. E. J. Power laws, Pareto distributions and Zipf's law //Contemporary physics. – 2005. – Т. 46. – №. 5. – С. 323-351.
9. Lelu A. Jean-Baptiste Estoup and the origins of Zipf's law: a stenographer with a scientific mind (1868-1950) //Boletín de Estadística e Investigación Operativa. – 2014. – Т. 30. – №. 1. – С. 66-77.
10. Репозиторий факультатива по подготовке научных статей. // URL: github.com/moevm/scientific_writing-2017
11. Mistune module for Python // URL: github.com/lepture/mistune
12. Bs4 module for Python // URL: crummy.com/software/BeautifulSoup/bs4/doc/
13. PyMorphy2 module for Python // URL: github.com/kmike/pymorphy2
14. Nltk module for Python // URL: nltk.org
15. SciPy mudle for Python // URL: scipy.org
16. MatPlotLib module for Python // URL: matplotlib.org
17. Заславский М.М., Блеес Э.И., Баландин С.И. Метод обработки в реальном времени открытых данных, содержащих геоконтекстную разметку // Научно-технический вестник информационных технологий, механики и оптики. 2017. Т. 17. № 5. С. 850–858. doi: 10.17586/2226-1494-2017-17-5-850-858