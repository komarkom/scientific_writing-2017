## Описание метода решения
### Технологии
Для решения поставленной задачи были использованы следующие технологии:
*OpenCV - для поиска номерного знака в кадре с автомобилем.
*Google android vision - для непосредственного поиска текста в кадре с номерным знаком.
*Android SDK - для разработки приложения под android.
*Android Camera API - для захвата изображения c камеры.
### Алгоритм определения номера автомобиля
Для того, чтобы избавиться от проблемы обнаружения различных текстовых объектов как номеров машин, процесс нахождения номера был разбит на два шага: определение номерного знака и определение номера на номерном знаке.
Данный алгоритм позволяет избавиться от проблемы обнаружения текстовых объектов(вывесок магазинов, рекламных щитов и т.д.) как номера машины, так как сначала идёт нахождение номерного знака в кадре. Если номерной знак найден, то переходим к следующему шагу, иначе возвращается ошибка. Затем в кадре с номерным знаком при помощи android vision находится текст и из предложенных вариантов выбирается тот, который совпадает с маской номера. Если среди вариантов совпадений нет, то возвращается ошибка.
Общий алгоритм определения номера выглядит так:
1. Нахождение номерного знака в кадре.
2. Распознавание текста в кадре с найденным номерным знаком.
3. Pattern matching с масками номеров.
#### Алгоритм поиска номерного знака в кадре.
Для обнаружения номерных знаков был использован метод Виолы-Джонса, реализация которого входит в состав библиотеки OpenCV. Основные принципы метода:
* для быстрого вычисления объектов используются изображения в интегральном представлении;
* для поиска нужного объекта(номерного знака в данной задаче) используются признаки Хаара. Признаки Хаара позволяют анализировать область на предмет наличия в ней характерных для номера отношений, точек или градиентов;
* для выбора наиболее подходящих признаков для искомого объекта на данной части изображения используется бустинг;
* все признаки поступают на вход классификатора, который даёт результат «верно» либо «ложь»;
* используются каскады признаков для быстрого отбрасывания окон, где не найден номерной знак.
#### Алгоритм поиска текста в кадре с номерным знаком
Для обнаружения текста в кадре с номерным знакомы используется библиотека google android vision. На вход подаётся кадр с текстом, результатом работы библиотеки является список строк с предполагаемым текстом. Данная библиотека не может определить именно номер целиком, но среди полученных вариантов всегда есть верный. Так как для российских номеров используются буквы, которые пишутся одинаково с латиницей, точность полученных букв высока.
#### Алоритм поиска номера из полученного массива текста
Для поиска номера полученный в полученном тексте при помощи pattern matching по заготовленным маскам идёт поиск подходящей комбинации символов. 

Источники:
1. Gary Bradski, Adrian Kaehler "Learning OpenCV: Computer Vision with the OpenCV Library", September 2008. - 566 с. https://www.ozon.ru/context/detail/id/5415514/
2. "Viola–Jones object detection framework". URL:[https://en.wikipedia.org/wiki/Viola–Jones_object_detection_framework](https://en.wikipedia.org/wiki/Viola–Jones_object_detection_framework)